[gd_scene load_steps=7 format=3 uid="uid://80cqroifpud1"]

[ext_resource type="Script" path="res://library/shop_controller.gd" id="1_6ur0b"]
[ext_resource type="Texture2D" uid="uid://td2qsqwgw86x" path="res://library/assets/Table.png" id="2_npnin"]
[ext_resource type="Script" path="res://library/item_spawn.gd" id="2_ro08d"]
[ext_resource type="PackedScene" uid="uid://cbuvimuvu6bei" path="res://menus/player_invent/whole_inventory.tscn" id="4_y2ffk"]

[sub_resource type="LabelSettings" id="LabelSettings_txc57"]
font_size = 64
outline_size = 10
outline_color = Color(0, 0, 0, 1)
shadow_size = 10
shadow_color = Color(0.164706, 0.164706, 0.164706, 0.776471)
shadow_offset = Vector2(-5, 5)

[sub_resource type="LabelSettings" id="LabelSettings_2xoc8"]
font_size = 32

[node name="LibraryShop" type="Node2D"]
script = ExtResource("1_6ur0b")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -375.0
offset_right = 375.0
offset_bottom = 88.0
grow_horizontal = 2
text = "Library (Knowlage Shop)"
label_settings = SubResource("LabelSettings_txc57")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuyButton" type="Button" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = -1
anchor_left = 0.448
anchor_top = 0.775
anchor_right = 0.552
anchor_bottom = 0.823
offset_left = -0.0960083
offset_top = -0.200012
offset_right = 0.0959473
offset_bottom = -0.304016
grow_horizontal = 2
grow_vertical = 2
text = "Buy"

[node name="KnowlageDisplay" type="Label" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = -1
anchor_left = 0.472
anchor_top = 0.17
anchor_right = 0.528
anchor_bottom = 0.239
offset_left = -0.244019
offset_top = -0.160004
offset_right = 0.244019
offset_bottom = 0.127991
grow_horizontal = 2
label_settings = SubResource("LabelSettings_2xoc8")

[node name="InventDisplay" type="VBoxContainer" parent="CanvasLayer"]
unique_name_in_owner = true
anchors_preset = -1
anchor_top = 0.951
anchor_right = 1.0
anchor_bottom = 1.823
offset_top = -0.248047
offset_bottom = -0.304077
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="ToggleInvent" type="Button" parent="CanvasLayer/InventDisplay"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 4
toggle_mode = true
text = "Toggle Inventory"

[node name="Inventory" parent="CanvasLayer/InventDisplay" instance=ExtResource("4_y2ffk")]
layout_mode = 2
size_flags_vertical = 3

[node name="Table" type="Sprite2D" parent="."]
position = Vector2(0, 72)
scale = Vector2(7.76563, 3.82813)
texture = ExtResource("2_npnin")
metadata/_edit_lock_ = true

[node name="ItemSpawns" type="Node2D" parent="."]
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="ElixerItemSpawn" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(-432, 39)
script = ExtResource("2_ro08d")

[node name="ElixerItemSpawn2" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(-339, 30)
script = ExtResource("2_ro08d")

[node name="ElixerItemSpawn3" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(434, 40)
script = ExtResource("2_ro08d")

[node name="ElixerItemSpawn4" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(340, 25)
script = ExtResource("2_ro08d")

[node name="SpellbookItemSpawn" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(-427, 137)
script = ExtResource("2_ro08d")
item_type = 1

[node name="SpellbookItemSpawn2" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(-304, 123)
script = ExtResource("2_ro08d")
item_type = 1

[node name="SpellbookItemSpawn3" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(446, 150)
script = ExtResource("2_ro08d")
item_type = 1

[node name="SpellbookItemSpawn4" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(317, 153)
script = ExtResource("2_ro08d")
item_type = 1

[node name="SpellbookItemSpawn5" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(217, 113)
script = ExtResource("2_ro08d")
item_type = 1

[node name="WeaponItemSpawn" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(-155, 123)
script = ExtResource("2_ro08d")
item_type = 2
override_value = 1

[node name="WeaponItemSpawn2" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(-23, 73)
script = ExtResource("2_ro08d")
item_type = 2
override_value = 1

[node name="WeaponItemSpawn3" type="Node2D" parent="ItemSpawns" groups=["ItemSpawn"]]
position = Vector2(74, 134)
script = ExtResource("2_ro08d")
item_type = 2
override_rarity = true
override_value = 1

[connection signal="pressed" from="CanvasLayer/BuyButton" to="." method="on_buy_button_pressed"]
[connection signal="toggled" from="CanvasLayer/InventDisplay/ToggleInvent" to="." method="toggle_invent_display"]
[connection signal="item_selected" from="ItemSpawns/ElixerItemSpawn" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/ElixerItemSpawn2" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/ElixerItemSpawn3" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/ElixerItemSpawn4" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/SpellbookItemSpawn" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/SpellbookItemSpawn2" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/SpellbookItemSpawn3" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/SpellbookItemSpawn4" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/SpellbookItemSpawn5" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/WeaponItemSpawn" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/WeaponItemSpawn2" to="." method="on_item_selected"]
[connection signal="item_selected" from="ItemSpawns/WeaponItemSpawn3" to="." method="on_item_selected"]
